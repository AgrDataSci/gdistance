<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create an object of the class Transition — transition • gdistance</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create an object of the class Transition — transition"><meta property="og:description" content="Create a Transition object from a RasterLayer or RasterBrick object.
 Transition values are calculated with a user-defined function from 
 the grid values."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gdistance</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Overview.html">gdistance: Distances and Routes on Geographical Grids</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/AgrDataSci/gdistance/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create an object of the class Transition</h1>
    <small class="dont-index">Source: <a href="https://github.com/AgrDataSci/gdistance/blob/HEAD/R/transition.R" class="external-link"><code>R/transition.R</code></a></small>
    <div class="hidden name"><code>transition.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a Transition object from a RasterLayer or RasterBrick object.
 Transition values are calculated with a user-defined function from 
 the grid values.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">transition</span><span class="op">(</span><span class="va">x</span>, <span class="va">transitionFunction</span>, <span class="va">directions</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p><code>RasterLayer</code> or <code>RasterBrick</code> (raster package)</p></dd>


<dt>transitionFunction</dt>
<dd><p>Function to calculate transition values 
from grid values</p></dd>


<dt>directions</dt>
<dd><p>Directions in which cells are connected 
(4, 8, 16, or other), see <code><a href="https://rdrr.io/pkg/terra/man/adjacent.html" class="external-link">adjacent</a></code></p></dd>


<dt>...</dt>
<dd><p>additional arguments, passed to methods</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Users may use one of three methods to construct a Transition* 
object with this function.</p>
<p>1) <code>TransitionLayer</code> from <code>RasterLayer</code></p>
<p><code>transition(x, transisitonFunction, directions, symm)</code></p>
<p>When a symmetric transition matrix is required, the user should
supply a transitionFunction f that obeys f(i,j) = f(j,i) 
(a commutative function).</p>
<p>The function <code>transition</code> does no commutativity check.</p>
<p>To obtain an asymmetric transition matrix, a non-commutative 
function should be supplied and an additional argument `symm' 
should be set to FALSE.</p>
<p>2) <code>TransitionLayer</code> from <code>RasterBrick</code></p>
<p><code>transition(x, transitionFunction="mahal", directions)</code></p>
<p>This method serves to summarize several layers of data in a single 
distance measure. The distance between adjacent cells is the normalized 
reciprocal of the Mahalanobis distance 
(mean distance / (mean distance + distance ij).</p>
<p>3) <code>TransitionStack</code> from <code>RasterLayer</code></p>
<p>In contrast with the above methods, this method produces resistance 
matrices by default.</p>
<p>a) Continuous variables - barriers</p>
<p><code>transition(x, transitionFunction="barriers", 
directions, symm, intervalBreaks)</code></p>
<p>This method creates a <code>TransitionStack</code> with each layer 
containing a discrete boundary between areas in <code>x</code>. 
Areas are defined by intervals in <code>x</code>.
The argument <code>intervalBreaks</code> is a vector of interval 
breaks corresponding to the values in <code>x</code>.
If between a pair of cells i and j, min(i,j) &lt; break AND max(i,j) &gt; break, 
then the value ij in the transition matrix becomes 1.</p>
<p>All other values in the transition matrix remain 0.
The package classInt offers several methods to define intervals.
If symm is changed from the default (TRUE) to "up" or "down", 
it will give either only the upslope (symm="up") or 
downslope (symm="down") barriers.</p>
<p>b) Categorical variables - barriers</p>
<p><code>transition(x, transitionFunction="barriers", directions)</code></p>
<p>In this case, areas are defined as categories in the input raster.
A raster with a categorical variable can be created with 
<code><a href="https://rdrr.io/pkg/raster/man/factor.html" class="external-link">asFactor()</a></code>.
The layers of the resulting TransitionStack contain 
all possible combinations of categories.
Which layer contains the combination of categories i and j 
out of n categories, can be determined with these formulae:</p>
<p>if <code>symm</code> is <code>TRUE</code>: layer(i,j) = n*(j-1) - j*(j-1)/2 + i-j.
if <code>symm</code> is <code>FALSE</code> and i&gt;j: layer(i,j) = ((n*(j-1) - j*(j-1)/2 + i-j) * 2) - 1.
if <code>symm</code> is <code>FALSE</code> and i&lt;j: layer(i,j) = (n*(j-1) - j*(j-1)/2 + i-j) * 2.</p>
<p>c) Categorical variables - areas</p>
<p><code>transition(x, transitionFunction="areas", directions)</code></p>
<p>Here, areas are also a categorical variable (see under 3b).
The layers in the resulting TransitionStack represent each one area.
Connections between two cells which are each inside the area are set to 1.
Connections between a cell inside and a cell outside the area are set to 0.5.
Connections between two cells outside the area are set to 0.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jacob van Etten, Kauê de Sousa.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

